
# Lamini: Create Your Own ChatGPT

[![License](https://img.shields.io/badge/Data%20License-CC%20By%20NC%204.0-red.svg)](/LICENSE.txt)
[![Python 3.7+](https://img.shields.io/badge/python-3.7+-blue.svg)](https://www.python.org/downloads/release/python-370/)
[![Code style: black](https://img.shields.io/badge/code%20style-black-000000.svg)](https://github.com/psf/black)

This is the repo for the Lamini project, which aims to build and share an instruction-following model with CC-BY license that allows commercial use. The repo contains:

- The [52K data](#data-release) used for fine-tuning the model.
- The code for [generating the data](#data-generation-process).

### Authentication to Lamini

Ready to configure your API key? It's easy-peasy! ğŸ”‘

First, navigate to your [Lamini account page](https://app.powerml.co) to retrieve your unique API key. Remember to keep this key a secret, and don't expose it in any client-side code or share it with others.

Next, create a config file, like so:

```
mkdir ~/.powerml
touch ~/.powerml/configure_llama.yaml # backend system names
```

Finally, open the file with a text editor and place your key in it:

```
production:
    key: "<YOUR-KEY-HERE>"
```

The best part? The [Lamini python package](https://pypi.org/project/llama-llm) will automatically load your key from this config file for you, so you don't have to worry about it ğŸ™Œ

If you're running Lamini in a docker container, make sure to copy/mount this file inside the container ğŸ³

See our [API docs](https://powerml.github.io/auth/) for more details.

### Run!
Clone the repository:
```
git clone git@github.com:lamini-ai/lamini.git
```

#### Using Python ğŸ

In the repository, install python dependencies:

```
pip install -r requirements.txt
```

Run the program, to start generating data ğŸ“ŠğŸ“ŠğŸ“Š

```
PYTHONPATH=$LOCAL_DIRECTORY/.. python3 generate_data.py
```

#### Using Docker ğŸ³

Make sure you have [docker](https://docs.docker.com/get-docker/) installed.

Then, run this command:

```bash
./run_generate_data_docker.sh
```

#### Expected Outputs & Saving
When you run the program, you should start seeing output of a `Seed Question`, from the original small dataset in `data/lamini_dataset.jsonl`, and a `Novel Question`, which is a generated question based on that `Seed Question`.[^1] ğŸ‘€
[^1]: The `Seed Questions` in the Lamini seed dataset are instructions (combination of questions and commands), based on the [self-instruct dataset](https://github.com/yizhongw/self-instruct). The generated questions are similar in nature to those and therefore don't *have to* be questions.
```
====== Seed Question =====
 question='Plan a weekly lunch menu for a school. Write down a main dish, a carbohydrate side dish, a vegetable side dish, and a dessert for each day.'
===== Novel Question =====
 question='Write a knock knock story that has the same theme as the given one, but the characters, plots and settings are different'
```
These generated questions are saved to `data/questions.jsonl`. This JSON file is a list of dictionaries with a `question` field.

Next, you'll see a `Response` generated for each `Novel Question`. ğŸ‘€ ğŸ‘€ For example:
```
====== Question =====
 question='Which exercises are best'
===== Response =====
 response='It really depends what you want to achieve. If you want to lose weight, I would recommend high intensity interval training (HIIT) because it is really effective. If you want to gain muscle, I would recommend steady-state cardio like running or walking as these help maintain muscle mass. If you are interested in both losing weight and gaining muscle, I would recommend a combination of both HIIT and steady-state cardio.\n\n\nHIIT exercises are: running fast for short periods of time, followed by slow walking or jogging for longer periods of time. An example of a HIIT exercise is called the â€œLunges'
```

These pairs are saved to `data/dataset.jsonl`. This JSON file is a list of dictionaries, each dictionary contains the following fields:
- `question`: `str`, describes the task the model should perform. Each of the 52K instructions is unique.
- `response`: `str`, the answer to the instruction as generated by `lamini/instruct`.



It's poggers ğŸ’¥

## Data Release ğŸ’¸ 

[`data/lamini_dataset.json`](./data/lamini_dataset.json) contains 52K instruction-following data we generated for commercial use (ie. feel free to use it for your business! ğŸ’°ğŸ“ˆ).
